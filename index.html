<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.353">

  <title>index</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="index_files/libs/quarto-diagram/mermaid.min.js"></script>
  <script src="index_files/libs/quarto-diagram/mermaid-init.js"></script>
  <link href="index_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section class="slide level2">

<div class="columns">
<div class="column" style="width:20%;">

</div><div class="column" style="width:80%;">
<section id="epiprocess-and-epipredict" class="slide level2" data-background-image="index_files/figure-revealjs/cover-art-1.svg" data-background-position="bottom">
<h2><code>{epiprocess}</code> and <code>{epipredict}</code></h2>
<h3 id="r-packages-for-signal-processing-and-forecasting"><code>R</code> packages for signal processing and forecasting</h3>
<p><br></p>
<h4 id="daniel-j.-mcdonald-ryan-j.-tibshirani-and-logan-c.-brooks">Daniel J. McDonald, Ryan J. Tibshirani, and Logan C. Brooks</h4>
<h4 id="and-cmus-delphi-group">and CMU’s Delphi Group</h4>
<p>CDC Flu Site Visit — 19 July 2023</p>
</section>
</div>
</div>
</section>
<section id="background" class="slide level2">
<h2>Background</h2>
<div>
<ul>
<li class="fragment">Covid-19 Pandemic required quickly implementing forecasting systems.</li>
<li class="fragment">Basic processing—<span class="primary">outlier detection</span>, <span class="secondary">reporting issues</span>, <span class="tertiary">geographic granularity</span>—implemented in parallel / error prone</li>
<li class="fragment">Data revisions complicate evaluation</li>
<li class="fragment">Simple models often outperformed complicated ones</li>
<li class="fragment">Custom software not easily adapted / improved by other groups</li>
<li class="fragment">Hard for public health actors to borrow / customize community techniques</li>
</ul>
</div>
</section>
<section id="packages-under-development" class="slide level2">
<h2>Packages under development</h2>
<div class="cell" data-reveal="true" data-fig-width="10" data-fig-height="7">
<div class="cell-output-display">
<div>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  A("{epidatr}") --&gt; C("{epiprocess}")
  B("{epidatpy}") --&gt; C
  D("{covidcast}") --&gt; C
  C --&gt; E("{epipredict}")
</pre>
</div>
</div>
</div>
</div>
</section>
<section>
<section id="epiprocess" class="title-slide slide level1 center">
<h1><code>{epiprocess}</code></h1>
<p><span class="primary">Tools for signal processing</span></p>
</section>
<section id="basic-processing-operations-and-data-structures" class="slide level2">
<h2>Basic processing operations and data structures</h2>
<div>
<ul>
<li class="fragment">General EDA for panel data</li>
<li class="fragment">Calculate rolling statistics</li>
<li class="fragment">Fill / impute gaps</li>
<li class="fragment">Examine correlations, growth rates</li>
<li class="fragment">Store revision history smartly</li>
<li class="fragment">Inspect revision patterns</li>
<li class="fragment">Find / correct outliers</li>
</ul>
</div>
</section>
<section id="epi_df-snapshot-of-a-data-set" class="slide level2">
<h2><code>epi_df</code>: snapshot of a data set</h2>
<ul>
<li>a tibble; requires columns <code>geo_value</code> and <code>time_value</code>.</li>
<li>arbitrary additional columns containing <span class="primary">measured values</span></li>
<li>additional <span class="primary">keys</span> to index (<code>age_group</code>, <code>ethnicity</code>, etc.)</li>
</ul>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><code>epi_df</code></strong></p>
</div>
<div class="callout-content">
<p>Represents a <span class="primary">snapshot</span> that contains the most <span class="primary">up-to-date values</span> of the signal variables, <span class="primary">as of</span> a given time.</p>
</div>
</div>
</div>
</section>
<section id="epi_df-snapshot-of-a-data-set-1" class="slide level2">
<h2><code>epi_df</code>: snapshot of a data set</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-4_8001741541feaf5e27031eeccdb426d2">
<style type="text/css">
.withscroll {
    height: 55vh;
    overflow-y: auto !important;
}
</style>
</div>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-5_03468591a83462e16c6327dfb50cd575">
<details>
<summary>
Example data object documentation, license, attribution
</summary>
<div class="withscroll">
<pre>case_death_rate_subset       package:epipredict        R Documentation

<u>S</u><u>u</u><u>b</u><u>s</u><u>e</u><u>t</u> <u>o</u><u>f</u> <u>J</u><u>H</u><u>U</u> <u>d</u><u>a</u><u>i</u><u>l</u><u>y</u> <u>s</u><u>t</u><u>a</u><u>t</u><u>e</u> <u>c</u><u>a</u><u>s</u><u>e</u><u>s</u> <u>a</u><u>n</u><u>d</u> <u>d</u><u>e</u><u>a</u><u>t</u><u>h</u><u>s</u>

<u>D</u><u>e</u><u>s</u><u>c</u><u>r</u><u>i</u><u>p</u><u>t</u><u>i</u><u>o</u><u>n</u>:

     This data source of confirmed COVID-19 cases and deaths is based
     on reports made available by the Center for Systems Science and
     Engineering at Johns Hopkins University. This example data ranges
     from Dec 31, 2020 to Dec 31, 2021, and includes all states.

<u>U</u><u>s</u><u>a</u><u>g</u><u>e</u>:

     case_death_rate_subset
     
<u>F</u><u>o</u><u>r</u><u>m</u><u>a</u><u>t</u>:

     A tibble with 20,496 rows and 4 variables:

     geo_value the geographic value associated with each row of
          measurements.

     time_value the time value associated with each row of
          measurements.

     case_rate 7-day average signal of number of new confirmed COVID-19
          cases per 100,000 population, daily

     death_rate 7-day average signal of number of new confirmed deaths
          due to COVID-19 per 100,000 population, daily

<u>S</u><u>o</u><u>u</u><u>r</u><u>c</u><u>e</u>:

     This object contains a modified part of the COVID-19 Data
     Repository by the Center for Systems Science and Engineering
     (CSSE) at Johns Hopkins University as republished in the COVIDcast
     Epidata API. This data set is licensed under the terms of the
     Creative Commons Attribution 4.0 International license by the
     Johns Hopkins University on behalf of its Center for Systems
     Science in Engineering. Copyright Johns Hopkins University 2020.

     Modifications:

        • From the COVIDcast Epidata API: These signals are taken
          directly from the JHU CSSE COVID-19 GitHub repository without
          changes. The 7-day average signals are computed by Delphi by
          calculating moving averages of the preceding 7 days, so the
          signal for June 7 is the average of the underlying data for
          June 1 through 7, inclusive.

</pre>
</div>
</details>
</div>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-6_b26e9a14d008ede9677e6ca1ded20057">
<div class="cell-output cell-output-stdout">
<pre><code>An `epi_df` object, 20,496 x 4 with metadata:
* geo_type  = state
* time_type = day
* as_of     = 2022-05-31 12:08:25.791826

# A tibble: 20,496 × 4
   geo_value time_value case_rate death_rate
 * &lt;chr&gt;     &lt;date&gt;         &lt;dbl&gt;      &lt;dbl&gt;
 1 ak        2020-12-31      35.9      0.158
 2 al        2020-12-31      65.1      0.438
 3 ar        2020-12-31      66.0      1.27 
 4 as        2020-12-31       0        0    
 5 az        2020-12-31      76.8      1.10 
 6 ca        2020-12-31      96.0      0.751
 7 co        2020-12-31      35.8      0.649
 8 ct        2020-12-31      52.1      0.819
 9 dc        2020-12-31      31.0      0.601
10 de        2020-12-31      65.2      0.807
# ℹ 20,486 more rows</code></pre>
</div>
</div>
</section>
<section id="sliding-examples-on-epi_df" class="slide level2">
<h2>Sliding examples on <code>epi_df</code></h2>
<h3 id="correlations-at-different-lags">Correlations at different lags</h3>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-7_42df12a3ef2476c21bfcce93fb8c91af">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>cor0 <span class="ot">&lt;-</span> <span class="fu">epi_cor</span>(edf, case_rate, death_rate, <span class="at">cor_by =</span> time_value)</span>
<span id="cb2-2"><a href="#cb2-2"></a>cor14 <span class="ot">&lt;-</span> <span class="fu">epi_cor</span>(edf, case_rate, death_rate, <span class="at">cor_by =</span> time_value, <span class="at">dt1 =</span> <span class="sc">-</span><span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-8-1.svg" class="r-stretch quarto-figure-center"></section>
<section id="outlier-detection-and-correction" class="slide level2">
<h2>Outlier detection and correction</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-10_c74c5e6c94d4e8f866dd32ca16f077c0">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>ny <span class="ot">&lt;-</span> ny <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">outliers =</span> <span class="fu">detect_outlr_stl</span>(time_value, cases))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-11-1.svg" class="r-stretch quarto-figure-center"></section>
<section id="sliding-examples-on-epi_df-1" class="slide level2">
<h2>Sliding examples on <code>epi_df</code></h2>
<h3 id="growth-rates">Growth rates</h3>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-12_a33df28931e7791fdce735746921f3c9">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>edf <span class="ot">&lt;-</span> <span class="fu">filter</span>(edf, geo_value <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ut"</span>, <span class="st">"ca"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">group_by</span>(geo_value) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">mutate</span>(<span class="at">gr_cases =</span> <span class="fu">growth_rate</span>(time_value, case_rate, <span class="at">method =</span> <span class="st">"trend_filter"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-13-1.svg" class="r-stretch quarto-figure-center"></section>
<section id="epi_archive-collection-of-epi_dfs" class="slide level2">
<h2><code>epi_archive</code>: collection of <code>epi_df</code>s</h2>
<ul>
<li>full version history of a data set</li>
<li>acts like a bunch of <code>epi_df</code>s — but stored <span class="primary">compactly</span></li>
<li>allows similar funtionality as <code>epi_df</code> but using only <span class="primary">data that would have been available at the time</span></li>
</ul>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Revisions</strong></p>
</div>
<div class="callout-content">
<p>Epidemiology data gets revised frequently. (Happens in Economics as well.)</p>
<ul>
<li>We may want to use the data <span class="primary">as it looked in the past</span></li>
<li>or we may want to examine <span class="primary">the history of revisions</span>.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="revision-patterns" class="slide level2">
<h2>Revision patterns</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-14_45980cc3ac5ce04fa653719ac4de01f8">
<details>
<summary>
Example data object documentation, license, attribution
</summary>
<div class="withscroll">

<pre>archive_cases_dv_subset       package:epiprocess       R Documentation

<u>S</u><u>u</u><u>b</u><u>s</u><u>e</u><u>t</u> <u>o</u><u>f</u> <u>d</u><u>a</u><u>i</u><u>l</u><u>y</u> <u>d</u><u>o</u><u>c</u><u>t</u><u>o</u><u>r</u> <u>v</u><u>i</u><u>s</u><u>i</u><u>t</u><u>s</u> <u>a</u><u>n</u><u>d</u> <u>c</u><u>a</u><u>s</u><u>e</u><u>s</u> <u>i</u><u>n</u> <u>a</u><u>r</u><u>c</u><u>h</u><u>i</u><u>v</u><u>e</u> <u>f</u><u>o</u><u>r</u><u>m</u><u>a</u><u>t</u>

<u>D</u><u>e</u><u>s</u><u>c</u><u>r</u><u>i</u><u>p</u><u>t</u><u>i</u><u>o</u><u>n</u>:

     This data source is based on information about outpatient visits,
     provided to us by health system partners, and also contains
     confirmed COVID-19 cases based on reports made available by the
     Center for Systems Science and Engineering at Johns Hopkins
     University. This example data ranges from June 1, 2020 to Dec 1,
     2021, and is also limited to California, Florida, Texas, and New
     York.

<u>U</u><u>s</u><u>a</u><u>g</u><u>e</u>:

     archive_cases_dv_subset
     
<u>F</u><u>o</u><u>r</u><u>m</u><u>a</u><u>t</u>:

     An 'epi_archive' data format. The data table DT has 129,638 rows
     and 5 columns:

     geo_value the geographic value associated with each row of
          measurements.

     time_value the time value associated with each row of
          measurements.

     version the time value specifying the version for each row of
          measurements.

     percent_cli percentage of doctor’s visits with CLI (COVID-like
          illness) computed from medical insurance claims

     case_rate_7d_av 7-day average signal of number of new confirmed
          deaths due to COVID-19 per 100,000 population, daily

<u>S</u><u>o</u><u>u</u><u>r</u><u>c</u><u>e</u>:

     This object contains a modified part of the COVID-19 Data
     Repository by the Center for Systems Science and Engineering
     (CSSE) at Johns Hopkins University as republished in the COVIDcast
     Epidata API. This data set is licensed under the terms of the
     Creative Commons Attribution 4.0 International license by Johns
     Hopkins University on behalf of its Center for Systems Science in
     Engineering. Copyright Johns Hopkins University 2020.

     Modifications:

        • From the COVIDcast Doctor Visits API: The signal
          'percent_cli' is taken directly from the API without changes.

        • From the COVIDcast Epidata API: 'case_rate_7d_av' signal was
          computed by Delphi from the original JHU-CSSE data by
          calculating moving averages of the preceding 7 days, so the
          signal for June 7 is the average of the underlying data for
          June 1 through 7, inclusive.

        • Furthermore, the data is a subset of the full dataset, the
          signal names slightly altered, and formatted into a tibble.

</pre>
</div>
</details>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-15-1.svg" class="r-stretch quarto-figure-center"></section>
<section id="latency-investigation" class="slide level2">
<h2>Latency investigation</h2>
<p>How stale is my data over space and time?</p>
<p>There are (lots) of possible definitions.</p>
<dl>
<dt><span class="primary">Nominal latency</span></dt>
<dd>
the difference between the max <code>time_value</code> available for some location, as of some version
</dd>
<dt><span class="primary">Nonmissing latency</span></dt>
<dd>
nominal + recorded <code>NA</code>s and skipped <code>time_value</code>s are latent
</dd>
<dt><span class="secondary">Nonmissing nonzero latency</span></dt>
<dd>
nonmissing + zeros are latent
</dd>
<dt><span class="primary">Nonmissing nonduplicate latency</span></dt>
<dd>
nonmissing + duplications of the most recent non-<code>NA</code> values are latent
</dd>
</dl>
</section>
<section id="latency-investigation-1" class="slide level2">
<h2>Latency investigation</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-17_4e6f1b7cb81b24c1284166fcee1b897c">
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="|5|6|8-9|14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>pos_first_true <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">match</span>(<span class="cn">TRUE</span>, <span class="fu">rev</span>(x), <span class="fu">length</span>(x) <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>na0_latency <span class="ot">&lt;-</span> <span class="cf">function</span>(dat, group_key, ref_time_value) {</span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">group_by</span>(dat, geo_value) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="fu">complete</span>(<span class="at">time_value =</span> <span class="fu">full_seq</span>(time_value, <span class="at">period =</span> 1L)) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="fu">mutate</span>(<span class="at">not_na0 =</span> <span class="sc">!</span>(<span class="fu">is.na</span>(admissions) <span class="sc">|</span> admissions <span class="sc">==</span> 0L)) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="fu">summarize</span>(</span>
<span id="cb5-8"><a href="#cb5-8"></a>      <span class="at">nominal_latency =</span> <span class="fu">as.integer</span>(ref_time_value <span class="sc">-</span> <span class="fu">max</span>(time_value)),</span>
<span id="cb5-9"><a href="#cb5-9"></a>      <span class="at">na0_latency =</span> <span class="fu">pos_first_true</span>(not_na0) <span class="sc">+</span> nominal_latency</span>
<span id="cb5-10"><a href="#cb5-10"></a>    )</span>
<span id="cb5-11"><a href="#cb5-11"></a>}</span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a>hhs_flu_hosp_archive <span class="sc">%&gt;%</span> </span>
<span id="cb5-14"><a href="#cb5-14"></a>  <span class="fu">epix_slide</span>(na0_latency, <span class="at">before =</span> <span class="dv">27</span>, <span class="at">names_sep =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-15"><a href="#cb5-15"></a>  <span class="fu">rename</span>(<span class="at">version =</span> time_value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="latency-investigation-2-days" class="slide level2">
<h2>Latency investigation, &gt; 2 days</h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-18-1.jpeg" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="epipredict" class="title-slide slide level1 center">
<h1><code>{epipredict}</code></h1>
<p><span class="primary">A forecasting framework</span></p>
</section>
<section id="philosophy-of-forecasting" class="slide level2">
<h2>Philosophy of forecasting</h2>
<div class="fragment fade-in-then-semi-out">
<p>We should build up modular components</p>
<p>Be able to add layers sequentially</p>
</div>
<div class="fragment fade-in-then-semi-out">
<ol type="1">
<li><span class="primary">Preprocessor:</span> do things to the data before model training</li>
<li><span class="primary">Trainer:</span> train a model on data, resulting in an object</li>
<li><span class="primary">Predictor:</span> make predictions, using a fitted model object</li>
<li><span class="primary">Postprocessor:</span> do things to the predictions before returning</li>
</ol>
</div>
<div class="fragment fade-in">
<p>A very specialized plug-in to <a href="https://tidymodels.org"><code>{tidymodels}</code></a></p>
</div>
</section>
<section id="epipredict-1" class="slide level2">
<h2><code>{epipredict}</code></h2>
<div>
<ul>
<li class="fragment">Canned forecasters that work out-of-the-box</li>
<li class="fragment">Backtest using the versioned data</li>
<li class="fragment">Easily create features</li>
<li class="fragment">Modify / transform / calibrate forecasts</li>
<li class="fragment">Quickly pivot to new tasks</li>
<li class="fragment">Highly customizable for advanced users</li>
</ul>
</div>
</section>
<section id="canned-forecasters-that-work-out-of-the-box." class="slide level2">
<h2>Canned forecasters that work out of the box.</h2>
<p>But, you can adjust <span class="secondary">a lot</span> of options</p>
<h3 id="we-currently-provide">We currently provide:</h3>
<ul>
<li>Baseline flat-line forecaster</li>
<li>Autoregressive-type forecaster</li>
<li>Autoregressive-type classifier</li>
<li>“Smooth” autoregressive-type forecaster</li>
</ul>
</section>
<section id="canned-forecasters-that-work-out-of-the-box.-1" class="slide level2">
<h2>Canned forecasters that work out of the box.</h2>
<p>But, you can adjust <span class="secondary">a lot</span> of options</p>
<h3 id="example-forecasting-task">Example forecasting task</h3>
<ul>
<li><p>On day <span class="math inline">\(t\)</span></p></li>
<li><p>We want to predict</p>
<ul>
<li>new hospitalizations <span class="math inline">\(y\)</span>,</li>
<li><span class="math inline">\(h\)</span> days ahead,</li>
<li>at many locations <span class="math inline">\(j\)</span>.</li>
</ul></li>
<li><p>We’re going to make a new forecast each week.</p></li>
</ul>
</section>
<section id="canned-forecasters-that-work-out-of-the-box.-2" class="slide level2">
<h2>Canned forecasters that work out of the box.</h2>
<p>But, you can adjust <span class="secondary">a lot</span> of options</p>
<h3 id="flatline-forecaster">Flatline forecaster</h3>
<p>For each location, predict <span class="math display">\[\hat{y}_{j,\ t+h} = y_{j,\ t}\]</span></p>
</section>
<section id="canned-forecasters-that-work-out-of-the-box.-3" class="slide level2">
<h2>Canned forecasters that work out of the box.</h2>
<p>But, you can adjust <span class="secondary">a lot</span> of options</p>
<h3 id="ar-forecaster">AR forecaster</h3>
<p>Use an AR model with an extra feature, e.g.: <span class="math display">\[\hat{y}_{j,\ t+h} = \mu + a_0 y_{j,\ t} + a_7 y_{j,\ t-7} + b_0 x_{j,\ t} + b_7 x_{j,\ t-7}\]</span></p>
</section>
<section id="basic-autoregressive-forecaster" class="slide level2">
<h2>Basic autoregressive forecaster</h2>
<ul>
<li>Predict <code>death_rate</code>, 1 week ahead, with <code>0,7,14</code> day lags of <code>cases</code> and <code>deaths</code>.</li>
<li>Use <code>lm</code> for estimation. Also create intervals.</li>
</ul>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-19_0bff5e345f0e01ffa0cfdd0f926723e5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>edf <span class="ot">&lt;-</span> case_death_rate_subset <span class="co"># grab some built-in data</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>canned <span class="ot">&lt;-</span> <span class="fu">arx_forecaster</span>(</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="at">epi_data =</span> edf, </span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="at">outcome =</span> <span class="st">"death_rate"</span>, </span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="at">predictors =</span> <span class="fu">c</span>(<span class="st">"case_rate"</span>, <span class="st">"death_rate"</span>)</span>
<span id="cb6-6"><a href="#cb6-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The output is a model object that could be reused in the future, along with the predictions for 7 days from now.</p>
</section>
<section id="adjust-lots-of-built-in-options" class="slide level2">
<h2>Adjust lots of built-in options</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-20_193319b48f5dac55d7199bcb93cdb841">
<div class="sourceCode cell-code" id="cb7" data-code-line-numbers="|4|5|7|8-12|13|14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>rf <span class="ot">&lt;-</span> <span class="fu">arx_forecaster</span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="at">epi_data =</span> edf, </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="at">outcome =</span> <span class="st">"death_rate"</span>, </span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="at">predictors =</span> <span class="fu">c</span>(<span class="st">"case_rate"</span>, <span class="st">"death_rate"</span>, <span class="st">"fb-survey"</span>),</span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="at">trainer =</span> parsnip<span class="sc">::</span><span class="fu">rand_forest</span>(<span class="at">mode =</span> <span class="st">"regression"</span>), <span class="co"># use {ranger}</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="at">args_list =</span> <span class="fu">arx_args_list</span>(</span>
<span id="cb7-7"><a href="#cb7-7"></a>    <span class="at">ahead =</span> <span class="dv">14</span>, <span class="co"># 2-week horizon</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="at">lags =</span> <span class="fu">list</span>(</span>
<span id="cb7-9"><a href="#cb7-9"></a>      <span class="at">case_rate =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">7</span>, <span class="dv">14</span>), </span>
<span id="cb7-10"><a href="#cb7-10"></a>      <span class="at">death_rate =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">14</span>), </span>
<span id="cb7-11"><a href="#cb7-11"></a>      <span class="st">`</span><span class="at">fb-survey</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">7</span>, <span class="dv">14</span>)</span>
<span id="cb7-12"><a href="#cb7-12"></a>    ),</span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.025</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">19</span><span class="sc">/</span><span class="dv">20</span>, <span class="fl">0.975</span>, <span class="fl">0.99</span>), <span class="co"># 23 ForecastHub quantiles</span></span>
<span id="cb7-14"><a href="#cb7-14"></a>    <span class="at">quantile_by_key =</span> <span class="st">"geo_value"</span> <span class="co"># vary noise model by location</span></span>
<span id="cb7-15"><a href="#cb7-15"></a>  )</span>
<span id="cb7-16"><a href="#cb7-16"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="do-almost-anything-manually" class="slide level2">
<h2>Do (almost) anything manually</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-21_ad43b72a18947c1c06347997d26b9433">
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="1-6|8-13|15-17|19-26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># A preprocessing "recipe" that turns raw data into features / response</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>r <span class="ot">&lt;-</span> <span class="fu">epi_recipe</span>(edf) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="fu">step_epi_lag</span>(case_rate, <span class="at">lag =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">14</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="fu">step_epi_lag</span>(death_rate, <span class="at">lag =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">14</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">step_epi_ahead</span>(death_rate, <span class="at">ahead =</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">step_epi_naomit</span>()</span>
<span id="cb8-7"><a href="#cb8-7"></a></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co"># A postprocessing routine describing what to do to the predictions</span></span>
<span id="cb8-9"><a href="#cb8-9"></a>f <span class="ot">&lt;-</span> <span class="fu">frosting</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>  <span class="fu">layer_predict</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>  <span class="fu">layer_threshold</span>(.pred, <span class="at">lower =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="co"># predictions / intervals should be non-negative</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="fu">layer_add_target_date</span>(<span class="at">target_date =</span> <span class="fu">max</span>(edf<span class="sc">$</span>time_value) <span class="sc">+</span> <span class="dv">14</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-13"><a href="#cb8-13"></a>  <span class="fu">layer_add_forecast_date</span>(<span class="at">forecast_date =</span> <span class="fu">max</span>(edf<span class="sc">$</span>time_value))</span>
<span id="cb8-14"><a href="#cb8-14"></a></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co"># Bundle up the preprocessor, training engine, and postprocessor</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co"># We use quantile regression</span></span>
<span id="cb8-17"><a href="#cb8-17"></a>ewf <span class="ot">&lt;-</span> <span class="fu">epi_workflow</span>(r, <span class="fu">quantile_reg</span>(<span class="at">tau =</span> <span class="fu">c</span>(.<span class="dv">1</span>, .<span class="dv">5</span>, .<span class="dv">9</span>)), f)</span>
<span id="cb8-18"><a href="#cb8-18"></a></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co"># Fit it to data (we could fit this to ANY data that has the same format)</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>trained_ewf <span class="ot">&lt;-</span> ewf <span class="sc">%&gt;%</span> <span class="fu">fit</span>(edf)</span>
<span id="cb8-21"><a href="#cb8-21"></a></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co"># examines the recipe to determine what we need to make the prediction</span></span>
<span id="cb8-23"><a href="#cb8-23"></a>latest <span class="ot">&lt;-</span> <span class="fu">get_test_data</span>(r, edf)</span>
<span id="cb8-24"><a href="#cb8-24"></a></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co"># we could make predictions using the same model on ANY test data</span></span>
<span id="cb8-26"><a href="#cb8-26"></a>preds <span class="ot">&lt;-</span> trained_ewf <span class="sc">%&gt;%</span> <span class="fu">predict</span>(<span class="at">new_data =</span> latest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="visualize-a-result-for-1-forecast-date-1-location" class="slide level2">
<h2>Visualize a result for 1 forecast date, 1 location</h2>
<div class="cell" data-layout-align="center" data-fig.format="svg" data-hash="index_cache/revealjs/unnamed-chunk-22_c469ce44b8f5bc69354ea5b74dd7399c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>fd <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-11-30"</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a>geos <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ut"</span>, <span class="st">"ca"</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a>tedf <span class="ot">&lt;-</span> edf <span class="sc">%&gt;%</span> <span class="fu">filter</span>(time_value <span class="sc">&gt;=</span> fd)</span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co"># use most recent 3 months for training</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>edf <span class="ot">&lt;-</span> edf <span class="sc">%&gt;%</span> <span class="fu">filter</span>(time_value <span class="sc">&lt;</span> fd, time_value <span class="sc">&gt;=</span> fd <span class="sc">-</span> 90L)</span>
<span id="cb9-7"><a href="#cb9-7"></a></span>
<span id="cb9-8"><a href="#cb9-8"></a>rec <span class="ot">&lt;-</span> <span class="fu">epi_recipe</span>(edf) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>  <span class="fu">step_epi_lag</span>(case_rate, <span class="at">lag =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">14</span>, <span class="dv">21</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>  <span class="fu">step_epi_lag</span>(death_rate, <span class="at">lag =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">14</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  <span class="fu">step_epi_ahead</span>(death_rate, <span class="at">ahead =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>)</span>
<span id="cb9-12"><a href="#cb9-12"></a></span>
<span id="cb9-13"><a href="#cb9-13"></a>f <span class="ot">&lt;-</span> <span class="fu">frosting</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-14"><a href="#cb9-14"></a>  <span class="fu">layer_predict</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>  <span class="fu">layer_unnest</span>(.pred) <span class="sc">%&gt;%</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="fu">layer_naomit</span>(distn) <span class="sc">%&gt;%</span></span>
<span id="cb9-17"><a href="#cb9-17"></a>  <span class="fu">layer_add_forecast_date</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>  <span class="fu">layer_threshold</span>(distn)</span>
<span id="cb9-19"><a href="#cb9-19"></a></span>
<span id="cb9-20"><a href="#cb9-20"></a>ee <span class="ot">&lt;-</span> <span class="fu">smooth_quantile_reg</span>(</span>
<span id="cb9-21"><a href="#cb9-21"></a>  <span class="at">tau =</span> <span class="fu">c</span>(.<span class="dv">1</span>, .<span class="dv">25</span>, .<span class="dv">5</span>, .<span class="dv">75</span>, .<span class="dv">9</span>),</span>
<span id="cb9-22"><a href="#cb9-22"></a>  <span class="at">outcome_locations =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>,</span>
<span id="cb9-23"><a href="#cb9-23"></a>  <span class="at">degree =</span> 3L</span>
<span id="cb9-24"><a href="#cb9-24"></a>)</span>
<span id="cb9-25"><a href="#cb9-25"></a></span>
<span id="cb9-26"><a href="#cb9-26"></a>ewf <span class="ot">&lt;-</span> <span class="fu">epi_workflow</span>(rec, ee, f)</span>
<span id="cb9-27"><a href="#cb9-27"></a>  </span>
<span id="cb9-28"><a href="#cb9-28"></a>the_fit <span class="ot">&lt;-</span> ewf <span class="sc">%&gt;%</span> <span class="fu">fit</span>(edf)</span>
<span id="cb9-29"><a href="#cb9-29"></a></span>
<span id="cb9-30"><a href="#cb9-30"></a>latest <span class="ot">&lt;-</span> <span class="fu">get_test_data</span>(rec, edf, <span class="at">fill_locf =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-31"><a href="#cb9-31"></a>preds <span class="ot">&lt;-</span> <span class="fu">predict</span>(the_fit, <span class="at">new_data =</span> latest) <span class="sc">%&gt;%</span></span>
<span id="cb9-32"><a href="#cb9-32"></a>  <span class="fu">mutate</span>(<span class="at">forecast_date =</span> fd, <span class="at">target_date =</span> fd <span class="sc">+</span> ahead) <span class="sc">%&gt;%</span></span>
<span id="cb9-33"><a href="#cb9-33"></a>  <span class="fu">select</span>(geo_value, target_date, distn) <span class="sc">%&gt;%</span></span>
<span id="cb9-34"><a href="#cb9-34"></a>  <span class="fu">pivot_quantiles</span>(distn) <span class="sc">%&gt;%</span></span>
<span id="cb9-35"><a href="#cb9-35"></a>  <span class="fu">filter</span>(geo_value <span class="sc">%in%</span> geos)</span>
<span id="cb9-36"><a href="#cb9-36"></a></span>
<span id="cb9-37"><a href="#cb9-37"></a><span class="fu">ggplot</span>(preds) <span class="sc">+</span></span>
<span id="cb9-38"><a href="#cb9-38"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(target_date, <span class="at">ymin =</span> <span class="st">`</span><span class="at">0.1</span><span class="st">`</span>, <span class="at">ymax =</span> <span class="st">`</span><span class="at">0.9</span><span class="st">`</span>),</span>
<span id="cb9-39"><a href="#cb9-39"></a>              <span class="at">fill =</span> <span class="st">"cornflowerblue"</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb9-40"><a href="#cb9-40"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(target_date, <span class="at">ymin =</span> <span class="st">`</span><span class="at">0.25</span><span class="st">`</span>, <span class="at">ymax =</span> <span class="st">`</span><span class="at">0.75</span><span class="st">`</span>),</span>
<span id="cb9-41"><a href="#cb9-41"></a>              <span class="at">fill =</span> <span class="st">"#00488E"</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb9-42"><a href="#cb9-42"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> <span class="fu">bind_rows</span>(tedf, edf) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(geo_value <span class="sc">%in%</span> geos), </span>
<span id="cb9-43"><a href="#cb9-43"></a>            <span class="fu">aes</span>(time_value, death_rate), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb9-44"><a href="#cb9-44"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(target_date, <span class="st">`</span><span class="at">0.5</span><span class="st">`</span>), <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb9-45"><a href="#cb9-45"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> fd) <span class="sc">+</span></span>
<span id="cb9-46"><a href="#cb9-46"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>geo_value) <span class="sc">+</span></span>
<span id="cb9-47"><a href="#cb9-47"></a>  <span class="fu">theme_bw</span>(<span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb9-48"><a href="#cb9-48"></a>  <span class="fu">scale_x_date</span>(<span class="at">name =</span> <span class="st">""</span>, <span class="at">date_labels =</span> <span class="st">"%b %Y"</span>) <span class="sc">+</span></span>
<span id="cb9-49"><a href="#cb9-49"></a>  <span class="fu">ylab</span>(<span class="st">"Deaths per 100K inhabitants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-22-1.svg" class="r-stretch quarto-figure-center"></section></section>
<section id="questions" class="title-slide slide level1 center">
<h1>Questions?</h1>

<img src="gfx/delphi.jpg" class="slide-logo r-stretch"><div class="footer footer-default">
<p>Packages for signal processing and forecasting</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>